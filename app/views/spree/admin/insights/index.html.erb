<% content_for :page_title do %>
  <%= Spree.t(:insights_heading, type: params[:type].to_s.humanize) %>
<% end %>

<% content_for :header do %>
  <%= javascript_include_tag "https://www.google.com/jsapi", "chartkick" %>
<% end %>

<% if @reports.present? %>
  <table class="table admin-insights" id="admin-insights" data-hook>
    <thead>
      <tr>
        <th>Name</th>
        <th>Description</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <% @reports.each do |report_name| %>
        <tr>
          <td><%= link_to Spree.t(:title, scope: [:reports, report_name], default: report_name), admin_insight_path(report_name, type: params[:type]) %></td>
          <td><%= Spree.t(:description, scope: [:reports, report_name]) %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% else %>
  <div class="alert alert-info no-objects-found">
    <%= Spree.t(:no_resource_found, resource: Spree.t(:insights)) %>,
  </div>
<% end %>
